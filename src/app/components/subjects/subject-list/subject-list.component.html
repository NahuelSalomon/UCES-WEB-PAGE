<app-nav-bar></app-nav-bar>
<main>
    <header class="py-3 mb-4 border-bottom">
        <div class="container d-flex flex-wrap justify-content-center">
          <a href="/" class="d-flex align-items-center mb-3 mb-lg-0 me-lg-auto text-dark text-decoration-none">
            <span class="fs-4"> Administrar materias </span>
          </a>
        </div>
      </header>

    <br>

    <app-add-subject [careerList] = "careerList"></app-add-subject>
    <br>
    <!-- Main page content-->
    <div class="container-xl px-4 mt-n10">

        <div class="card">
            <div class="card-body">
                <form class="col-3 col-lg-5">
                    <label for="select-career">Seleccionar carrera:</label>
                    <select class="form-select form-select-sm mb-3" id="select-career" (change)="careerChange($any($event.target).value)">
                        <option [value]="career.id" *ngFor="let career of careerList"> {{ career.name }} </option>
                    </select>
                </form>
                <hr>
                  
                <table class="table table-striped center" style="margin-left: auto; margin-right: auto;">
                <thead>
                    <tr style="text-align:center">
                        <th scope="col" text-align="center">CÃ³digo</th>
                        <th scope="col" text-align="center">Nombre</th>
                        <th scope="col" text-align="center">Corrrelativas</th>
                        <th scole="col" text-align="center">Opciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let subject of subjectList" style="text-align:center">
                        <td>
                            <b *ngIf="!subject.code">-</b>
                            <b> {{subject.code}} </b>
                        </td>
                        <td style="text-align:left"> {{subject.name}} </td>
                        <td>
                            <div class="row justify-content-center">
                                <div *ngIf="!subject.correlatives" class="col-3">
                                -
                            </div>
                                <div *ngFor="let correlative of subject.correlatives" class="col-2" ngbPopover="{{correlative.name}}" container="body" triggers="mouseenter:mouseleave">
                                    <small style="color:#405967"><b>{{correlative.code}}</b></small>
                                </div>
                            </div>                     
                    </td>
                        <td>
                            <button type="button" class="btn btn-outline-danger" (click)="openDeleteModal(subject)">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash3" viewBox="0 0 16 16">
                                    <path d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5ZM11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H2.506a.58.58 0 0 0-.01 0H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1h-.995a.59.59 0 0 0-.01 0H11Zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5h9.916Zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47ZM8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5Z"/>
                                    </svg>
                            </button>
                        </td>
                    </tr>
                </tbody>
                </table>
            </div>
        </div>
    </div>


</main>